{"version":3,"file":"public/javascripts/app.js","sources":["app/app.js","app/controllers/channel.js","app/controllers/channels.js","app/controllers/playback.js","app/controllers/song.js","app/controllers/step.js","app/controllers/steps.js","app/initialize.js","app/models/channel.js","app/models/pubsub.js","app/models/song.js","app/models/soundPlayer.js","app/models/step.js","app/router.js","app/templates/application.hbs","app/templates/channels.hbs","app/templates/index.hbs","app/templates/partials/_channel.hbs","app/templates/partials/_share.hbs","app/templates/playback.hbs","app/templates/song.hbs","app/templates/steps.hbs"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;AADA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApEA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3EA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1CA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3BA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjFA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxDA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlCA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7CA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9DA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7CA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5FA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjDA;;ACAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxCA","sourcesContent":["module.exports = Em.Application.create();\n","var App = require('app');\n\nApp.ChannelController = Em.ObjectController.extend({\n  init: function() {\n    this._super();\n    App.pubsub.subscribe('tick', this, this.onTick);\n  },\n  willDestroy: function() {\n    this._super();\n    App.pubsub.unsubscribe('tick', this, this.onTick);\n  },\n  class: function() {\n    return \"channel  \" + this.get('sound');\n  }.property('sound'),\n\n  playStep: function(step) {\n    this.playSound(step.get('velocity'));\n  },\n  playSound: function(velocity) {\n    if(velocity === undefined) {\n      velocity = 1;\n    }\n    App.pubsub.publish('sound', {\n      sound: this.get('sound'),\n      velocity: velocity * this.get('volume'),\n      pan: this.get('pan')\n    });\n  },\n  onTick: function(tick) {\n    var currentStepIndex = (tick-1) % this.get('stepCount');\n\n    var steps = this.get('steps');\n    steps.setEach('active', false);\n\n    var step = steps.objectAt(currentStepIndex);\n    step.set('active', true);\n\n    if(step.get('enabled')) {\n      this.playStep(step);\n    }\n  },\n  \n  actions: {\n    previous: function() {\n      this.set('sound', App.Channel.previous(this.get('sound')));\n      this.playSound();\n    },\n    next: function() {\n      this.set('sound', App.Channel.next(this.get('sound')));\n      this.playSound();\n    },\n\n    delete: function() {\n      this.send('deleteChannel', this.get('model'));\n    },\n\n    mute: function() {\n      this.set('volume', 0);\n    },\n\n    unmute: function() {\n      this.set('volume', 1);\n    },\n  }\n\n});\n\n\n","var App = require('app');\n\nApp.ChannelsController = Em.ArrayController.extend({\n  itemController: 'channel',\n  actions: {\n     addChannel: function(sound) {\n       var channel = App.Channel.create({ sound: sound });\n       channel.addSteps(16);\n       this.get('model').pushObject(channel);\n      },\n\n     deleteChannel: function(channel) {\n      this.get('model').removeObject(channel);\n     }\n  }\n});\n","var App = require('app');\n\nApp.PlaybackController = Em.ObjectController.extend({\n  tickCount: null,\n  isActive: false,\n  shareVisible: false,\n  actions: {\n    start: function() {\n      if(!this.get('isActive')) {\n        this.set('isActive', true);\n        this.tick();\n       }\n     },\n     stop: function() {\n       this.set('isActive', false);\n       this.set('tickCount', null);\n     },\n    increaseTempo: function() {\n      this.set('tempo', this.get('tempo') + 1);\n    },\n    decreaseTempo: function() {\n      if(this.get('tempo') > 5) {\n        this.set('tempo', this.get('tempo') - 1);\n      }\n    },\n    toggleShare: function() {\n      this.toggleProperty('shareVisible');\n    },\n    \n  },\n\n  sixteenth: function() {\n    return (this.get('tickCount') % 4) + 1;\n  }.property('tickCount'),\n  beat: function() {\n    return Math.floor((this.get('tickCount') / 4) % 4) + 1;\n  }.property('sixteenth'),\n  bar: function() {\n    return Math.floor(this.get('tickCount') / 16) + 1;\n  }.property('beat'),\n  interval: function() {\n    return 1000 / (this.get('tempo') / 60 * 4);\n  }.property('tempo'),\n  display: function() {\n    return this.get('bar') + ':' + this.get('beat') + ':' + this.get('sixteenth');\n  }.property('tickCount'),\n  \n  tick: function() {\n    if(this.get('isActive')) {\n      this.incrementProperty('tickCount');\n      App.pubsub.publish('tick', this.get('tickCount'));\n\n      var self = this;\n      setTimeout(function() {\n        self.tick();\n      }, this.get('interval'));\n    }\n  },\n  encodedPermalink: function() {\n    return encodeURIComponent(this.get('permalink'));\n  }.property('permalink'),\n  emailPermalink: function() {\n    return \"mailto:?subject=Check Out These Beats&body=\" + this.get('encodedPermalink');\n  }.property('permalink'),\n  googlePermalink: function() {\n    return 'https://plus.google.com/share?url=' + this.get('encodedPermalink');\n  }.property('permalink'),\n  facebookPermalink: function() {\n    return 'http://www.facebook.com/sharer.php?u=' + this.get('encodedPermalink');\n  }.property('permalink'),\n  twitterPermalink: function() {\n    return 'http://twitter.com/share?url=' + this.get('encodedPermalink') + '&text=Check%20out%20these%20beats%20';\n  }.property('permalink')\n});\n\n","var App = require('app');\n\nApp.SongController = Em.ObjectController.extend({\n  updateUrl: function() {\n    window.history.replaceState({ }, \"\", this.get('permalink'));\n  }.observes('base64Compressed'),\n  actions:{\n    switchToPreset: function(preset) {\n      this.set('model', App.Song.fromPreset(preset));\n    }\t\n  }\n  \n});\n","var App = require('app');\n\nApp.StepController = Em.ObjectController.extend({\n  buttonClass: function() {\n    var classes = ['step-button ribbon'];\n\n    if(this.get('active')) {\n      classes.push('active');\n    } else {\n      classes.push('inactive');\n\n    }\n\n    var velocity = this.get('velocity');\n    if(velocity == 0.5) {\n      classes.push('velocity50');\n    } else if(velocity == 1) {\n      classes.push('velocity100');\n    }\n\n     return classes.join(' ');\n  }.property('velocity', 'active'),\n\n  click: function() {\n    var velocity = this.get('velocity');\n    var model = this.get('model');\n    if(velocity === 0) {\n      this.set('velocity', 0.5);\n      this.play();\n    } else if(velocity === 0.5) {\n      this.set('velocity', 1);\n      this.play();\n    } else {\n      this.set('velocity', 0);\n    }\n  },\n\n  play: function() {\n    this.send('playStep', this.get('model'));\n  }\n});\n\n","var App = require('app');\n\nApp.StepsController = Em.ArrayController.extend({\n  itemController: 'step',\n\n  addStep: function() {\n    this.get('model').pushObject(\n      App.Step.create()\n    );\n  },\n  removeStep: function() {\n    this.get('model').popObject();\n  },\n});\n","window.App = require('app');\n\nrequire('templates/application');\nrequire('templates/index');\nrequire('templates/channels');\nrequire('templates/partials/_channel');\nrequire('templates/partials/_share');\nrequire('templates/song');\nrequire('templates/playback');\nrequire('templates/steps');\n\nrequire('models/pubsub');\nrequire('models/song');\nrequire('models/step');\nrequire('models/channel');\nrequire('models/soundPlayer');\n\nrequire('controllers/channels');\nrequire('controllers/channel');\nrequire('controllers/steps');\nrequire('controllers/step');\nrequire('controllers/song');\nrequire('controllers/playback');\n\nrequire('router');\n\nApp.initialize();\n","var App = require('app');\n\nApp.Channel = Ember.Object.extend({\n  sound: 'kick',\n  volume: 1,\n  pan: 1,\n  steps: null,\n  init: function() {\n    this._super();\n    if(this.get('steps') === null) {\n      this.set('steps', Em.A());\n    }\n  },\n  stepCount: function() {\n    return this.get('steps').length;\n  }.property('steps.length'),\n  addStep: function(data) {\n    this.get('steps').pushObject(\n      App.Step.create(data)\n    );\n  },\n  addSteps: function(n) {\n    for(var i=0; i<n; i++) {\n      this.addStep();\n    }\n  },\n  lastUpdated: function() {\n    return new Date();\n  }.property('sound', 'steps.length', 'steps.@each.lastUpdated'),\n  serialize: function() {\n    return {\n      sound: this.get('sound'),\n      volume: this.get('volume'),\n      steps: this.get('steps').invoke('serialize')\n    };\n  }\n}).reopenClass({\n  sounds: [\n    'cowbell',\n    'conga_hi',\n    'cymbal',\n    'conga_mid',\n    'conga_low',\n    'hihat_open',\n    'tom_hi',\n    'maracas',\n    'tom_mid',\n    'hihat_closed',\n    'tom_low',\n    'clave',\n    'clap',\n    'snare',\n    'rim',\n    'kick'\n  ],\n  previous: function(sound) {\n    var index = this.sounds.indexOf(sound);\n    if(index === 0) {\n      index = this.sounds.length;\n    }\n    return this.sounds[index - 1];\n  },\n  next: function(sound) {\n    var index = this.sounds.indexOf(sound);\n    if(index == this.sounds.length - 1) {\n      index = -1;\n    }\n    return this.sounds[index + 1];\n  },\n  deserialiseArray: function(data) {\n    return Em.A(\n      data.map(function(item) {\n        return App.Channel.create({\n          sound: item.sound,\n          volume: item.volume,\n          steps: App.Step.deserialiseArray(item.steps)\n        });\n      })\n    );\n  }\n});\n","var App = require('app');\n\nApp.pubsub = Ember.Object.createWithMixins(Ember.Evented, {\n  publish: function() {\n    return this.trigger.apply(this, arguments);\n  },\n\n  subscribe: function() {\n    return this.on.apply(this, arguments);\n  },\n\n  unsubscribe: function() {\n    return this.off.apply(this, arguments);\n  }\n});\n","var App = require('app');\n\nApp.Song = Ember.Object.extend({\n  name: '',\n  tempo: 100,\n  channels: Em.A(),\n\n  json: function() {\n    return JSON.stringify(this.serialize());\n  }.property('lastUpdated', 'channels.@each.lastUpdated'),\n  base64Compressed: function() {\n    var base64 = LZString.compressToBase64(this.get('json'));\n    return encodeURIComponent(base64);\n  }.property('json'),\n  permalink: function() {\n    return location.protocol + \"//\" + location.host + \"/#/song/\" + this.get('base64Compressed');\n  }.property('base64Compressed'),\n  lastUpdated: function() {\n    return new Date();\n  }.property('name', 'tempo'),\n  serialize: function() {\n    return {\n      name: this.get('name'),\n      tempo: this.get('tempo'),\n      channels: this.get('channels').invoke('serialize')\n    };\n  }\n}).reopenClass({\n  deserialise: function(data) {\n    return App.Song.create({\n      name: data.name,\n      tempo: data.tempo,\n      channels: App.Channel.deserialiseArray(data.channels)\n    });\n  },\n  fromBase64Compressed: function(base64) {\n    base64 = decodeURIComponent(base64);\n    var json = LZString.decompressFromBase64(base64);\n    return App.Song.deserialise(JSON.parse(json));\n  },\n  fromPreset: function(preset) {\n    return App.Song.fromBase64Compressed(\n      App.Song.presets[preset]\n    );\n  },\n  default: function() {\n    return App.Song.fromPreset('default');\n  },\n  presets: {\n    'default': 'N4IgdghgtgpiBcIQBoQBcZQA4HsEEYAGQ1AYwAsIwwYAbAZwQG1R6cBXMAEwRAGsAlqT4oQANxy12sAqnoYsjeC3F0cpAWgCeBAL7JQYtRu0JC%2Bw8c0745g6trrrZiw6enbro45M27ln2dPe293Py8rD3wIwI9%2FN189EMjw5NjUgLCXNKzgzMTPAF1XNk4eRHpIACc4VAkpGXh8OQUlFVCC%2BI6grpTs%2FJ6Y3OiczqGx0cHJuPGpgZnpjISgkfml7oW1l2L7Uu5ecgFKNAB9Ukd6GB46yWk4JpaYRWYt2wA6AFZZzeWo7%2FW%2Bu8vot%2Br8bKswaCNn5Pv8oYCIdD4ekzLCQXlIU04UVdMUgAA%3D%3D',\n    '15step': 'N4IgdghgtgpiBcICMBWABAZQC4wA5oAoAlCAEwEsB7ACxjIEoQAaEHKXShAThRYGNqEMGBgAbAM4IA2qHGUArmFIIQAa3J9VzEADdKo%2BbARIW4nLknwZusZT7ksAT2MBfJqB237ThAAY3Hl4OzvD%2B7jaidsF%2BARFRPqGxnpHeIWGBKdGhAHQoSUEJvrn5mYUl8WkuALqxcorKiOKQAE5wLHoGRvAmIGZ4ltbJFTHhQ6kjGcOJowUhSOXj05OL8zOllWtT6XErC1n%2BNeF1SirU5IJYAPp8keIwyu36hnDdpuYDy%2Ft7ZZuLRXm%2FL6AwrFYEbT4JVYQ8E7fag6ExQ6yBQnRA3CC4bQdZ7GN79aQIpawn6E%2F7fGFjOEA0nkvzw4kU2Z06kMiasomUkns7actL03lsgUcpk5FlCnkiiXrRHVFxAAA',\n    'sundaybloodysunday': 'N4IgdghgtgpiBcIDKBXMATCBPABAIQBsB7I9XVDbHACgFUAmAShxABoQAXGKAByIQCMABiHsAxgAsIYMDAIBnBAG1Q8omnQIQ8yACc47AG5ECKWIPbyuPRfBUhDcomICWHLAiEA6AKwBfVlBHYld3QQCgp1CPeCEIhyi3GLjAhJCk8NTg5wzY%2BOzoz3zEsLyskuTi9NKUyOrK8vqixpyaqtaGuo7PX3bC%2BAE%2B3Nq07rKu%2FpGC4aG2lsnZ5N753MGVuYmZ9c7Rhe3mzY3d4eXDmLWznv99gcWD46Pp0ouHnae3ivv3r8%2Fx15%2Bmn9vkDflNQad%2FrcbmDATCxnC9pcQbC7rEIcCXsCEVskdjHqDUXiltdcX4ALrxNQaLQAaxcYhpbAcJjMcAGlmstnsWPRBOhhMJvJR%2FJFuKF8IFosh3hJ0slpIpqSpGC0EhcUg4AH0xMR5DBNEYWeZ2dpOcokZjwbKedarajLbDxZMnSdbYCHfCXTUvcT7YK3Z6A87%2FBSKUAA%3D',\n    'sexualhealing': 'N4IgdghgtgpiBcIDKMAeBXCAbABACRmwEswBzHACgFkIAnANxJwHEIBPGAShABoQAXGFAAOAewQBOAKx8AxgAsIYMDCwBnBAG1Qa0ejAATBCADWRWSd4h6orOlgIAjHzWDhG%2BNuurRsovzYnAF8eUHofPwCEAAYQsIj%2FQPhY0O8sX0SYuLSMqOTs8PTIpJT4osz81MLcpMcChLzogDopevLGtprgqoaSzuLusq7KoYGRnLG6nvba%2ForSifm5junhheqx9d6s1cnlvt2lw5XRo9OTxYuNs8vZgF1s3X0jRDVIWjg%2BGzsHeGcQVwwdxac4HUE7cHja5XbZQ2FbGYQ25I6Fg5FwxHJFr7QbohFrHEYgnHNGolHwwn4zaUynYkkxOmQqkVKZMwmsvG01r0onUh6pJ6GYzyIiKfgAfVk6TUMCMX1s9jgfxcbg8XjJWO5bJ5zS1nJ1jP1TMNGuZjRNFINetNXJpVtt9p1Du1xutltddo9jq9LrxFsxZpK%2FrW2P5Oj0QsQIrF4tEwhgYCs30VThVQLVvptTuzmfdfrdAc9RuLWdzhZzJbzpfzRerdfhwepFfr5Z9lYDjZuNrDAIjLxAUogwiTCt%2B%2F0BwM8ZeJ06bkI5LZn7aXi7ny7Xq67FJ7gv7g%2FCI5%2BSvHqpBNebVYbBZXl9b59nW7vm5hT9vN47143b82nZf75Dn6Pv%2BX4frW37zL%2BpLbo8fbGPwohQOKIqHimyoAqeU7rkBP6AX%2BIHAdhhF4URUGvmRBHER0O6wYg8GIVARBytYo7Hmmk7quBlGkRR3H4XxJHkuR%2FFcYJPGicJvECbyUmBuJUkLpxkkidJymySpfTUc8cEIeK6QAO4oWObEZlhqlgUJMnmWJ6lyWZF4WXZD6OaZSmubZbk2Z5akKQ5sxOg8DxAAAA%3D',\n    'juicy': 'N4IgdghgtgpiBcIQBoQBcZQA4HsEE4AOVAYwAsIwwYAbAZwQG1Q6cBXMAEwRAGsBLErxQgAbjhptYCAIyo6GLA3jMxtHCX5oAnrIC%2ByUKPWadCAAwGjJrbviXDamhtsWrTl2fgz3x56bsHa39Xb18bLyCPAIsAOgBWcJDIpM9A1Jj7DNCovzS3RzzM3Ij0gF13Vg5uRDpIACc4VHFJaW95RWVVIpzslMLSguD8sIHk9LGR8wS%2BieHi2aHo3smF1ZX5nJn1%2Fs3d5ZSKxyquHjJ%2BCjQAfRJnOhhuZokpOHaQBRglJj27Hx25g4Anr7YFAwZZf5LUFuI4sdinRC3CBYEQtF6yDqfLo%2FKHgkrjXEEiE44mAwlTRak6FUvGU%2FEUyE0on0tYklkbMlMhlsum8xnskG0%2Fl8nn87aiiWcywVCpAAAA%3D%3D'\n  }\n});\n","var App = require('app');\n\nApp.SoundPlayer = Ember.Object.create({\n    init: function() {\n        var self = this;\n        App.pubsub.subscribe('sound', function(sound) {\n          self.howl.play(sound.sound, function(soundID) {\n            self.howl.volume(sound.velocity, soundID);\n            self.howl.pos3d({x: sound.pan }, soundID);\n          });\n        });\n    },\n    howl: new Howl({\n        urls: ['sprite.mp3'],\n        sprite: {\n            cowbell: [0, 300],\n            conga_hi: [400, 300],\n            cymbal: [807, 3640],\n            conga_mid: [4455, 202],\n            conga_low: [4863, 343],\n            hihat_open: [5268, 706],\n            tom_hi: [6277, 206],\n            maracas: [6684, 53],\n            tom_mid: [7092, 263],\n            hihat_closed: [7496, 90],\n            tom_low: [7903, 370],\n            clave: [8307, 44],\n            clap: [8712, 208],\n            snare: [9116, 137],\n            rim: [9521, 36],\n            kick: [9929, 390]\n        }\n    })\n});\n","var App = require('app');\n\nApp.Step = Ember.Object.extend({\n  active: false,\n  velocity: 0,\n  enabled: function() {\n    return this.get('velocity') !== 0;\n  }.property('velocity'),\n  lastUpdated: function() {\n    return new Date();\n  }.property('velocity'),\n  serialize: function() {\n    return {\n      velocity: this.get('velocity')\n    };\n  }\n\n}).reopenClass({\n  deserialiseArray: function(data) {\n    return Em.A(\n      data.map(function(item) {\n        return App.Step.create(item);\n      })\n    );\n  }\n});\n","var App = require('app');\n\nApp.IndexRoute = Em.Route.extend({\n  model: function() {\n    return App.Song.default();\n  }\n});\n\nApp.SongRoute = Em.Route.extend({\n  model: function(params) {\n    return App.Song.fromBase64Compressed(params.base64);\n  }\n});\n\nApp.Router.map(function(){\n    this.route('index', { path:'/' });\n    this.route('song', { path: '/song/:base64' });\n});\n","<div class=\"container\">\n  <div class=\"header\">\n    <h2><a href=\"/\">Ember.js Beats</a></h2>\n\n    <span>\n      <a href=\"https://twitter.com/gavinjoyce\">@gavinjoyce</a> |\n      <a href=\"https://github.com/GavinJoyce/ember-beats\">Source</a>\n    </span>\n  </div>\n\n  <br style=\"clear: both\" />\n\n  {{outlet}}\n</div>\n","<div class=\"main\">\n\n  {{#each}}\n    {{partial \"partials/channel\" }}\n  {{/each}}\n\n\n  <div class=\"btn-group\" style=\"margin-top: 14px; margin-left: 18px\">\n    <a class=\"btn dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\">\n      Add Channel\n      <span class=\"caret\"></span>\n    </a>\n    <ul class=\"dropdown-menu\">\n      {{#each sound in App.Channel.sounds}}\n        <li>\n          <a {{action addChannel sound}}>\n            {{sound}}\n          </a>\n        </li>\n      {{/each}}\n    </ul>\n  </div>\n</div>\n","{{render \"song\" model}}\n","<div {{bindAttr class=\"class\"}}>\n  <span class=\"channel-cycle\">\n    <div>\n      <button type=\"button\" class=\"tiny transparent\" {{action previous}}>\n        <i class=\"icon-circle-arrow-up icon-white\"></i>\n      </button>\n    </div>\n    <div>\n      <button type=\"button\" class=\"tiny transparent\" {{action next}}>\n        <i class=\"icon-circle-arrow-down icon-white\"></i>\n      </button>\n    </div>\n  </span>\n  <span class=\"controls\">\n    <h3>{{sound}}</h3>\n    <span class=\"channel-closer\">\n      {{#if volume}}\n       <button type=\"button\" class=\"tiny transparent\" {{action mute}}>\n        <i class=\"icon-volume-off icon-white\"></i>\n      </button>\n      {{else}}\n          <button type=\"button\" class=\"tiny transparent\" {{action unmute}}>\n          <i class=\"icon-volume-up icon-white\"></i>\n      </button>\n      {{/if}}\n      <button type=\"button\" class=\"tiny transparent\" {{action delete}}>\n        <i class=\"icon-remove-circle icon-white\"></i>\n      </button>\n    </span>\n  </span>\n\n  {{render \"steps\" steps}}\n</div>\n","<div class=\"share\">\n\n  Song Name: {{view Em.TextField valueBinding=\"name\"}}\n\n  <hr />\n\n  Share a <a {{bindAttr href=\"permalink\"}}>link</a> to this song via <a {{bindAttr href=\"emailPermalink\"}}>Email</a>, <a {{bindAttr href=\"googlePermalink\"}}>Google+</a>, <a {{bindAttr href=\"facebookPermalink\"}}>Facebook</a> and <a {{bindAttr href=\"twitterPermalink\"}}>Twitter</a>\n</div>\n","<div class=\"playback\">\n  <div class=\"btn-toolbar\">\n\n      {{#unless isActive}}\n      <button type=\"button\" class=\"btn btn-large\" {{action start}}>\n        <i class=\"icon-play\"></i>\n      </button>\n      {{else}}\n      <button type=\"button\" class=\"btn btn-large btn-danger\" {{action stop}}>\n        <i class=\"icon-stop\"></i>\n      </button>\n      {{/unless}}\n\n    <div class=\"btn-group\"></div>\n\n    <div class=\"btn-group\">\n      <button type=\"button\" class=\"btn btn-large\" {{action decreaseTempo}}>\n        <i class=\"icon-minus-sign\"></i>\n      </button>\n      <button type=\"button\" class=\"btn btn-large\"><strong>{{tempo}} bpm</strong></button>\n      <button type=\"button\" class=\"btn btn-large\" {{action increaseTempo}}>\n        <i class=\"icon-plus-sign\"></i>\n      </button>\n    </div>\n\n    <div class=\"btn-group\">\n      <button type=\"button\" class=\"btn btn-large\"><strong>{{display}}</strong></button>\n    </div>\n\n    <div class=\"btn-group\">\n      <a class=\"btn btn-large dropdown-toggle \" data-toggle=\"dropdown\" href=\"#\">\n        Presets\n        <span class=\"caret\"></span>\n      </a>\n      <ul class=\"dropdown-menu\">\n          <li>\n            <a {{action switchToPreset 'default'}}>Default</a>\n            <a {{action switchToPreset 'sundaybloodysunday'}}>Sunday Bloody Sunday - U2</a>\n            <a {{action switchToPreset 'sexualhealing'}}>Sexual Healing - Marvin Gaye</a>\n            <a {{action switchToPreset '15step'}}>15 Step - Radiohead</a>\n            <a {{action switchToPreset 'juicy'}}>Juicy - B.I.G.</a>\n          </li>\n      </ul>\n    </div>\n\n    <div class=\"btn-group\" style=\"float: right;\">\n      <button type=\"button\" class=\"btn\" {{action toggleShare}}>\n        <strong>Share Song</strong>\n        <i class=\"icon-share\"></i>\n      </button>\n    </div>\n  </div>\n</div>\n\n{{#if shareVisible}}\n  {{partial \"partials/share\"}}\n{{/if}}\n","{{render \"playback\" model}}\n{{render \"channels\" model.channels}}\n\n{{#if debug}}\n  <div>\n    <style>\n      textarea { width: 100%; height: 200px; }\n    </style>\n\n\n    <hr />\n    <h1>Debug Info</h1>\n\n    <h2>Json: ({{json.length}})<h2>\n    {{view Ember.TextArea valueBinding=\"json\"}}\n\n    <h2>Permalink: ({{permalink.length}})<h2>\n    {{view Ember.TextArea valueBinding=\"permalink\"}}\n  </div>\n{{/if}}\n","<span class=\"steps\">\n  <ul>\n    {{#each step in model itemController=\"step\"}}\n       <li class=\"step\">\n        <a href=\"#\" {{bindAttr class=\"buttonClass\"}} {{action click}}></a>\n      </li>\n    {{/each}}\n  </ul>\n</span>\n\n<span class=\"steps-controls\">\n  <div>\n    <button type=\"button\" class=\"tiny transparent\" {{action addStep}}>\n      <i class=\"icon-plus-sign icon-white\"></i>\n    </button>\n  </div>\n  <div>\n    <button type=\"button\" class=\"tiny transparent\" {{action removeStep}}>\n      <i class=\"icon-minus-sign icon-white\"></i>\n    </button>\n  </div>\n</span>\n"]}